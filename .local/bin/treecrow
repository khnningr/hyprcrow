print_tree() {
    local dir=$1
    local prefix=$2

    # List all files and directories in the current directory
    local items=("$dir"/*)
    local last_index=$((${#items[@]} - 1))

    for i in "${!items[@]}"; do
        local item="${items[$i]}"
        local new_prefix="${prefix}│   "

        # Determine the correct prefix for the next level
        if [ "$i" -eq $last_index ]; then
            new_prefix="${prefix}    "
        fi

        # Get the display name
        local display_name
        display_name=$(basename "$item")

        # Print the current item
        if [ -d "$item" ]; then
            echo "${prefix}└── ${display_name}/"
            # Recursively print the tree for directories
            if [ "$(ls -A "$item")" ]; then
                print_tree "$item" "$new_prefix"
            fi
        else
            echo "${prefix}└── ${display_name}"
        fi
    done
}

# Check if a directory is passed as an argument, otherwise use the current directory
if [ $# -eq 0 ]; then
    dir="."
else
    dir="$1"
fi

# Print the root directory
echo "."
# Start the tree printing
print_tree "$dir" ""
